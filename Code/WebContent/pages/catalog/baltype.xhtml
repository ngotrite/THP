<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui">
<h:head />
<ui:composition>
	<h:form id="form-baltype-detail" class="container-fluid"
		rendered="#{balTypeBean.formType eq 'baltype-detail'}">

		<div class="row formFieldMg">
			<div class="col-xs-12 col-sm-4">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.balTypeId']}" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{balTypeBean.balType.balTypeId}"
							readonly="#{balTypeBean.editting or true}"
							styleClass="form-control" maxlength="9" />
						<pe:keyFilter regEx="/[0-9]/i" />
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.balTypeName']}"
							for="txtBalTypeName" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{balTypeBean.balType.balTypeName}"
							styleClass="form-control preformatted" maxlength="100"
							required="true" id="txtBalTypeName" />
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.externalId']}"
							for="txtExternalIdBT" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{balTypeBean.balType.externalId}"
							styleClass="form-control" maxlength="100" required="true"
							id="txtExternalIdBT" />
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.effDateType']}" />
					</div>
					<div class="col-xs-12">
						<h:selectOneMenu id="effdatetype" effect="fold"
							styleClass="form-control col-xs-12"
							value="#{balTypeBean.balType.effDateType}">
							<f:selectItem itemLabel="NONE" itemValue="#{null}" />
							<f:selectItems value="#{balTypeBean.loadComboEffDateType()}" />
							<p:ajax event="change" update="pnEffDate"></p:ajax>
						</h:selectOneMenu>
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.expDateType']}" />
					</div>
					<div class="col-xs-12">
						<h:selectOneMenu id="expdatetype" effect="fold"
							styleClass="form-control col-xs-12"
							value="#{balTypeBean.balType.expDateType}">
							<f:selectItem itemLabel="NONE" itemValue="#{null}" />
							<f:selectItems value="#{balTypeBean.loadComboExpDateType()}" />
							<p:ajax event="change" update="pnExpDate"></p:ajax>
						</h:selectOneMenu>
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.balTypeType']}"
							for="cbBalTypeType" />
					</div>
					<div class="col-xs-12">
						<h:selectOneMenu effect="fold" styleClass="form-control col-xs-12"
							required="true" id="cbBalTypeType"
							value="#{balTypeBean.balType.balTypeType}">
							<p:ajax update="form-baltype-detail" />
							<f:selectItems value="#{balTypeBean.loadComboTypeOfBalType()}" />
						</h:selectOneMenu>
					</div>
				</div>

				<p:panel id="pnPeriodic1"
					rendered="#{balTypeBean.balType.balTypeType == 2}">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel value="#{msg['baltype.windowSize']}"
								for="txtWindowSize"
								rendered="#{balTypeBean.balType.balTypeType == 2}" />
						</div>
						<div class="col-xs-12">
							<p:inputText value="#{balTypeBean.balType.windowSize}"
								id="txtWindowSize" styleClass="form-control" maxlength="9"
								required="#{balTypeBean.balType.balTypeType == 2}"
								rendered="#{balTypeBean.balType.balTypeType == 2}">
								<pe:keyFilter regEx="/[0-9]/i" />
							</p:inputText>
						</div>
					</div>
				</p:panel>



			</div>
			<div class="col-xs-12 col-sm-4">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.billingCycleTypeId']}" />
					</div>
					<div class="col-xs-12">
						<h:selectOneMenu id="recuringtype" effect="fold"
							styleClass="form-control col-xs-12"
							value="#{balTypeBean.balType.billingCycleTypeId}">
							<f:selectItem itemLabel="" />
							<f:selectItems value="#{balTypeBean.listComboBillCycleType}"
								var="bill" itemValue="#{bill.billingCycleTypeId}"
								itemLabel="#{bill.billingCycleTypeName}" />
						</h:selectOneMenu>
					</div>
				</div>


				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.paymentType']}"
							for="cbPaymentType" />
					</div>
					<div class="col-xs-12">
						<h:selectOneMenu styleClass="form-control col-xs-12"
							required="true" id="cbPaymentType"
							value="#{balTypeBean.balType.paymentType}">
							<f:selectItems value="#{balTypeBean.loadComboPaymentType()}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="row">

					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.ownerLevel']}" for="ballevel" />
					</div>

					<div class="col-xs-12">
						<h:selectOneMenu effect="fold" id="ballevel" required="true"
							styleClass="form-control col-xs-12"
							value="#{balTypeBean.balType.balLevel}">
							<f:selectItems value="#{balTypeBean.loadComboBalLevel()}" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="row">

					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.effDate']}" for="effDateFM" />
					</div>
					<p:panel id="pnEffDate">
						<div class="col-xs-12">
							<p:calendar navigator="true" id="effDateFM"
								styleClass="calendarIcon" mask="true"
								rendered="#{balTypeBean.balType.effDateType == 0 || balTypeBean.balType.effDateType == 1 || balTypeBean.balType.effDateType == 2 || balTypeBean.balType.effDateType == 3 || balTypeBean.balType.effDateType == 4 || balTypeBean.balType.effDateType == 5 || balTypeBean.balType.effDateType == 6 || balTypeBean.balType.effDateType == 7 || balTypeBean.balType.effDateType == 8 || balTypeBean.balType.effDateType == 9}"
								value="#{balTypeBean.balType.effDate}"
								requiredMessage="#{msg['common.required']}"
								pattern="#{userSession.dateFormat}" />
						</div>
						<div class="col-xs-12">
							<p:inputText value="#{balTypeBean.balType.effDateData}"
								styleClass="form-control"
								requiredMessage="#{msg['common.required']}"
								rendered="#{balTypeBean.balType.effDateType == 10 || balTypeBean.balType.effDateType == 11 || balTypeBean.balType.effDateType == 12 || balTypeBean.balType.effDateType == 13}">
								<pe:keyFilter regEx="/[0-9]/i" />
							</p:inputText>
						</div>
					</p:panel>

				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.expDate']}" for="expDateFM" />
					</div>
					<p:panel id="pnExpDate">
						<div class="col-xs-12">
							<p:calendar navigator="true" id="expDateFM"
								styleClass="calendarIcon" mask="true"
								rendered="#{balTypeBean.balType.expDateType == 0 || balTypeBean.balType.expDateType == 1 || balTypeBean.balType.expDateType == 2 || balTypeBean.balType.expDateType == 3 || balTypeBean.balType.expDateType == 4 || balTypeBean.balType.expDateType == 5 || balTypeBean.balType.expDateType == 6 || balTypeBean.balType.expDateType == 7}"
								value="#{balTypeBean.balType.expDate}"
								requiredMessage="#{msg['common.required']}"
								pattern="#{userSession.dateFormat}" />
						</div>
						<div class="col-xs-12">
							<p:inputText value="#{balTypeBean.balType.expDateData}"
								styleClass="form-control"
								requiredMessage="#{msg['common.required']}"
								rendered="#{balTypeBean.balType.expDateType == 8 || balTypeBean.balType.expDateType == 9 || balTypeBean.balType.expDateType == 10  || balTypeBean.balType.expDateType == 11 || balTypeBean.balType.expDateType == 12}">
								<pe:keyFilter regEx="/[0-9]/i" />
							</p:inputText>
						</div>
					</p:panel>
				</div>

				<p:panel id="pnPeriodic2"
					rendered="#{balTypeBean.balType.balTypeType == 2}">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel value="#{msg['baltype.periodicPeriodType']}"
								rendered="#{balTypeBean.balType.balTypeType == 2}" />
						</div>
						<div class="col-xs-12">
							<h:selectOneMenu id="periodicperiodtype" effect="fold"
								styleClass="form-control col-xs-12"
								value="#{balTypeBean.balType.periodicPeriodType}"
								rendered="#{balTypeBean.balType.balTypeType == 2}">
								<f:selectItems value="#{balTypeBean.loadComboPeriodicType()}" />
							</h:selectOneMenu>
						</div>
					</div>

					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel value="#{msg['baltype.lowWaterMarkLevel']}"
								rendered="#{balTypeBean.balType.balTypeType == 2}"
								for="txtLowWaterMarkLevel" />
						</div>
						<div class="col-xs-12">
							<p:inputText value="#{balTypeBean.balType.lowWaterMarkLevel}"
								styleClass="form-control" maxlength="9"
								required="#{balTypeBean.balType.balTypeType == 2}"
								id="txtLowWaterMarkLevel"
								rendered="#{balTypeBean.balType.balTypeType == 2}">
								<pe:keyFilter regEx="/[0-9]/i" />
							</p:inputText>
						</div>
					</div>
				</p:panel>


			</div>
			<div class="col-xs-12 col-sm-4">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.category']}" for="CatType" />
					</div>

					<div class="col-xs-12">
						<h:selectOneMenu id="CatType" styleClass="form-control col-xs-12"
							required="true" value="#{balTypeBean.balType.categoryId}">
							<f:selectItems var="category"
								itemLabel="#{category.categoryName}"
								itemValue="#{category.categoryId}"
								value="#{balTypeBean.getCategoriesOfBalType()}">
							</f:selectItems>
						</h:selectOneMenu>
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:selectBooleanCheckbox style="margin-top: 2%;" id="isCleanable"
							value="#{balTypeBean.balType.isClearable}"
							itemLabel="#{msg['baltype.isCleanable']}" />
					</div>
				</div>


				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.unitType']}" for="unittype" />
					</div>
					<div class="col-xs-12">
						<h:selectOneMenu id="unittype" effect="fold" required="true"
							styleClass="form-control col-xs-12"
							value="#{balTypeBean.balType.unitTypeId}">
							<f:selectItems value="#{balTypeBean.lstUnitType}" var="item"
								itemValue="#{item.unitTypeId}" itemLabel="#{item.name}" />
							<p:ajax event="change" update="txtBTPrecision DTThreshold"
								listener="#{balTypeBean.getBTPrecision(balTypeBean.balType.unitTypeId)}" />
						</h:selectOneMenu>
					</div>
				</div>


				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.desc']}" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{balTypeBean.balType.description}"
							styleClass="form-control" maxlength="255"
							requiredMessage="#{msg['common.required']}" />
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['baltype.prec']}" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{balTypeBean.balType.balTypepercision}"
							readonly="true" styleClass="form-control" maxlength="9"
							id="txtBTPrecision" requiredMessage="#{msg['common.required']}">
							<pe:keyFilter regEx="/[0-9]/i" />
						</p:inputText>
					</div>

				</div>



				<p:panel id="pnPeriodic3"
					rendered="#{balTypeBean.balType.balTypeType == 2}">
					<div class="row">

						<div class="col-xs-12">
							<p:outputLabel value="#{msg['baltype.periodicPeriod']}"
								rendered="#{balTypeBean.balType.balTypeType == 2}" />
						</div>
						<div class="col-xs-12">
							<p:inputText value="#{balTypeBean.balType.periodicPeriod}"
								styleClass="form-control" maxlength="9"
								requiredMessage="#{msg['common.required']}"
								rendered="#{balTypeBean.balType.balTypeType == 2}">
								<pe:keyFilter regEx="/[0-9]/i" />
							</p:inputText>
						</div>
					</div>

					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel value="#{msg['baltype.highWaterMarkLevel']}"
								rendered="#{balTypeBean.balType.balTypeType == 2}"
								for="txtHighWaterMarkLevel" />
						</div>
						<div class="col-xs-12">
							<p:inputText value="#{balTypeBean.balType.highWaterMarkLevel}"
								styleClass="form-control" maxlength="9"
								required="#{balTypeBean.balType.balTypeType == 2}"
								id="txtHighWaterMarkLevel"
								rendered="#{balTypeBean.balType.balTypeType == 2}">
								<pe:keyFilter regEx="/[0-9]/i" />
							</p:inputText>
						</div>
					</div>
				</p:panel>
			</div>

			<div class="col-xs-12">
				<p:dataTable var="item" id="DTThreshold"
					value="#{balTypeBean.thresholds}" rowIndexVar="rowIndex"
					rowKey="#{item.threshold.thresholdId}"
					emptyMessage="#{msg['common.noData']}" paginator="true" rows="20"
					paginatorPosition="bottom"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,20,50,100">

					<f:facet name="header">
						<p:outputLabel value="#{msg['threshold.listName']}"
							style="font-weight:bold" />
					</f:facet>

					<p:column headerText="#" style="width:9%">
               		 #{rowIndex+1}
            		</p:column>

					<p:column headerText="#{msg['threshold.thresholdName']}">
						<h:outputText value="#{item.threshold.thresholdName}" />
					</p:column>

					<p:column headerText="#{msg['common.type']}">
						<!-- 						<h:outputText value="#{balTypeBean.getThresholdTypeName(item.threshold.thresholdId)}" /> -->
						<h:outputText
							value="#{(item.thresholdTypeIncrease eq true ? msg['threshold.thresholdTypeInc'] : '').concat((item.thresholdTypeDecrease and item.thresholdTypeIncrease) eq true ?  ' /&emsp;' : '').concat(item.thresholdTypeDecrease eq true ? msg['threshold.thresholdTypeDec'] : '')}" />
					</p:column>

					<p:column headerText="#{msg['threshold.isPercentage']}">
						<h:outputText
							value="#{item.threshold.isPercentage eq true ? msg['threshold.isPercentageTrue'] : msg['threshold.isPercentageFalse']}" />
					</p:column>

					<p:column headerText="#{msg['common.value']}">
						<h:outputText
							value="#{balTypeBean.getThresHoldValueTB(item.threshold.value)}" />
					</p:column>

					<p:column headerText="#{msg['common.externalId']}">
						<h:outputText value="#{item.threshold.externalId}" />
					</p:column>



					<p:column headerText="#{msg['common.action']}"
						styleClass="actionColumn">
						<p:commandLink update="form-baltype-detail form-baltype-dgl"
							resetValues="true" disabled="#{balTypeBean.apply}"
							actionListener="#{balTypeBean.showDialogThreshold(item,false)}"
							styleClass="btn btn-sm btn-action-edit colorStrongGreen">
							<i class="fa fa-pencil icon-only mr-0"></i>
						</p:commandLink>

						<p:commandLink update="form-baltype-detail form-baltype-dgl"
							disabled="#{balTypeBean.apply}"
							actionListener="#{balTypeBean.cloneThreshold(item)}"
							styleClass="btn btn-sm btn-action-edit colorStrongGreen">
							<i class="fa fa-clone icon-only mr-0"></i>
						</p:commandLink>

						<p:commandLink update="DTThreshold"
							disabled="#{balTypeBean.apply}"
							actionListener="#{balTypeBean.deleteThreshold(item)}"
							styleClass="btn btn-sm btn-action-del colorRed">
							<i class="fa fa-times icon-only mr-0"></i>
							<p:confirm header="#{msg['common.delete']}"
								message="#{msg['common.confirmDelete']}" icon="ui-icon-alert" />

						</p:commandLink>

						<f:facet name="header">
							<p:commandButton value="#{msg['threshold.addThreshold']}"
								disabled="#{balTypeBean.apply}"
								actionListener="#{balTypeBean.showDialogThreshold(null,false)}"
								resetValues="true" process="@this" icon="fa fa-plus"
								update="dlgThreshold form-baltype-dgl form-baltype-detail:DTThreshold"
								styleClass="btn btn-primary">
							</p:commandButton>
						</f:facet>

					</p:column>
				</p:dataTable>
			</div>
			<div class="col-xs-12">
				<div class="row">
					<div class="col-xs-12 text-right">
						<p:commandButton value="#{msg['common.apply']}"
							action="#{balTypeBean.saveAll()}" icon="fa fa-save"
							disabled="#{balTypeBean.apply}"
							update="treeCommon categoryCommonTop contentPanel"
							styleClass="btn btn-default">
							<p:confirm header="#{msg['common.apply']}"
								message="#{msg['common.confirm_apply']}" icon="ui-icon-alert" />
						</p:commandButton>
						<p:commandButton value="#{msg['common.cancel']}"
							action="#{balTypeBean.cancelBalType()}" rendered="false"
							update="treeCommon categoryCommonTop contentPanel"
							styleClass="btn btn-default">
						</p:commandButton>
					</div>
				</div>
			</div>
		</div>
	</h:form>

	<!-- DIALOG THRESHOLD -->
	<p:dialog header="#{msg['threshold']}" modal="true" id="dlgThreshold"
		closable="true" resizable="false" showEffect="explode"
		widgetVar="dlgThresholdWV" styleClass="dlg-center-fix">
		<h:form id="form-baltype-dgl">
			<div class="row formFieldMg">
				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel value="#{msg['common.name']}"
								for="txtThresholdName" />
						</div>
						<div class="col-xs-12">
							<p:inputText required="true" id="txtThresholdName"
								maxlength="100"
								value="#{balTypeBean.threshold.threshold.thresholdName}"
								styleClass="form-control" />
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel value="#{msg['common.externalId']}"
								for="txtExternalIdTH" />
						</div>
						<div class="col-xs-12">
							<p:inputText
								value="#{balTypeBean.threshold.threshold.externalId}"
								styleClass="form-control" maxlength="100" required="true"
								id="txtExternalIdTH" />
						</div>
					</div>
				</div>

				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel />
						</div>
						<div class="col-xs-12">
							<p:selectOneRadio id="isPercentage"
								value="#{balTypeBean.threshold.threshold.isPercentage}">
								<f:selectItem itemLabel="#{msg['threshold.isPercentageTrue']}"
									itemValue="true" />
								<f:selectItem itemLabel="#{msg['threshold.isPercentageFalse']}"
									itemValue="false" />
							</p:selectOneRadio>
						</div>
						<div class="col-xs-12">
							<p:selectBooleanCheckbox style="margin-top: 2%;"
								value="#{balTypeBean.threshold.threshold.forBreakRating}"
								itemLabel="#{msg['threshold.forBreakingRating']}" />
						</div>
					</div>
				</div>

				<div class="col-xs-12 col-sm-6">
					<div class="row">
						<div class="col-xs-12">
							<p:selectBooleanCheckbox id="thresholdTypeIncrease"
								itemLabel="#{msg['threshold.thresholdTypeInc']}"
								value="#{balTypeBean.threshold.thresholdTypeIncrease}">
							</p:selectBooleanCheckbox>
						</div>
						<div class="col-xs-12">
							<p:selectBooleanCheckbox id="thresholdTypeDecrease"
								itemLabel="#{msg['threshold.thresholdTypeDec']}"
								value="#{balTypeBean.threshold.thresholdTypeDecrease}">
							</p:selectBooleanCheckbox>
						</div>

					</div>
				</div>

				<div class="col-xs-12">
					<div class="row">
						<div class="col-xs-12">
							<p:outputLabel value="#{msg['common.value']}" for="txtValueTH" />
						</div>
						<div class="col-xs-12">
<!-- 							<p:inputText value="#{balTypeBean.threshold.threshold.value}" -->
<!-- 								styleClass="form-control" maxlength="9" required="true" -->
<!-- 								id="txtValueTH"> -->
<!-- 								<pe:keyFilter regEx="/[0-9]/i" /> -->
<!-- 							</p:inputText> -->
							<p:inputNumber value="#{balTypeBean.thresHoldValue}" maxlength="9" required="true"
								styleClass="inputNumCustom" id="txtValueTH"
								decimalPlaces="#{balTypeBean.unitType.unitPrecision}" />
						</div>
					</div>
				</div>
			</div>


			<div class="col-xs-12 col-md-12">
				<div class="row">
					<p:dataTable var="item" id="triggerList"
						value="#{balTypeBean.threshold.triggerOcsofThresHold}"
						rowIndexVar="rowIndex" rowKey="#{item.triggerOcsId}"
						emptyMessage="#{msg['common.noData']}" paginator="true" rows="20"
						paginatorPosition="bottom"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						rowsPerPageTemplate="10,20,50,100">

						<p:column headerText="#{msg['common.ID']}">
							<h:outputText value="#{item.triggerOcsId}" />
						</p:column>
						<p:column headerText="#{msg['triggerMsg.msgName']}">
							<h:outputText value="#{item.triggerName}" />
						</p:column>
						<p:column headerText="#{msg['triggerType']}">
							<h:outputText
								value="#{balTypeBean.getTriggerTypeName(item.triggerType)}" />
						</p:column>
						<p:column headerText="#{msg['common.desc']}">
							<h:outputText value="#{item.description}" />
						</p:column>
						<p:column headerText="#{msg['common.action']}"
							styleClass="text-center">
							<p:commandLink
								actionListener="#{balTypeBean.deleteTriggerOcs(item)}"
								update="triggerList"
								styleClass="btn btn-sm btn-action-del colorRed">
								<i class="fa fa-times icon-only mr-0"></i>
								<p:confirm header="#{msg['common.delete']}"
									message="#{msg['common.confirmDelete']}" icon="ui-icon-alert" />
							</p:commandLink>
							<f:facet name="header">
								<p:commandButton value="#{msg['formula.addTrigger']}"
									process="@this" icon="fa fa-plus"
									actionListener="#{balTypeBean.commandAddNewTriggerOcs()}"
									styleClass="btn btn-primary">
									<p:ajax event="dialogReturn"
										listener="#{balTypeBean.onDialogTriggerReturn}"
										update="triggerList" />
								</p:commandButton>
							</f:facet>
						</p:column>
					</p:dataTable>
				</div>

			</div>
			<div class="col-xs-12 col-md-12" align="right">
				<div class="row">
					<!-- 							<p:commandButton value="#{msg['common.close']}" actionListener="#{balTypeBean.clsoeApplyThreshold}" resetValues="true" -->
					<!-- 								styleClass="pull-right" update=" dlgThreshold form-baltype-dgl form-baltype-detail:DTThreshold  "> -->
					<!-- 							</p:commandButton> -->
					<p:commandButton value="#{msg['common.apply']}" icon="fa fa-save"
						actionListener="#{balTypeBean.cmdApplyThreshold}"
						resetValues="true" styleClass="pull-right"
						update=" form-baltype-detail:DTThreshold  ">
						<p:confirm header="#{msg['common.apply']}"
							message="#{msg['common.confirm_apply']}" icon="ui-icon-alert" />
					</p:commandButton>
				</div>
			</div>

		</h:form>

	</p:dialog>

	<h:form id="form-threshold" class="container-fluid"
		rendered="#{balTypeBean.formType eq 'threshold-detail'}">
		<div class="row formFieldMg">
			<div class="col-xs-12 col-sm-6">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.name']}" />
						<p:outputLabel value=" *" style="color:red" />
					</div>
					<div class="col-xs-12">
						<p:inputText requiredMessage="#{msg['common.required']}"
							maxlength="100"
							value="#{balTypeBean.threshold.threshold.thresholdName}"
							styleClass="form-control" />
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.externalId']}" />
						<p:outputLabel value=" *" style="color:red" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{balTypeBean.threshold.threshold.externalId}"
							styleClass="form-control" maxlength="100" />
					</div>
				</div>
			</div>

			<div class="col-xs-12 col-sm-6">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel />
					</div>
					<div class="col-xs-12">
						<p:selectOneRadio id="isPercentageTH"
							value="#{balTypeBean.threshold.threshold.isPercentage}">
							<f:selectItem itemLabel="#{msg['threshold.isPercentageTrue']}"
								itemValue="true" />
							<f:selectItem itemLabel="#{msg['threshold.isPercentageFalse']}"
								itemValue="false" />
						</p:selectOneRadio>
					</div>
				</div>
			</div>

			<div class="col-xs-12 col-sm-6">
				<div class="row">
					<div class="col-xs-12">
						<p:selectBooleanCheckbox
							itemLabel="#{msg['threshold.thresholdTypeInc']}"
							value="#{balTypeBean.threshold.thresholdTypeIncrease}">
						</p:selectBooleanCheckbox>
					</div>
					<div class="col-xs-12">
						<p:selectBooleanCheckbox
							itemLabel="#{msg['threshold.thresholdTypeDec']}"
							value="#{balTypeBean.threshold.thresholdTypeDecrease}">
						</p:selectBooleanCheckbox>
					</div>
				</div>
			</div>

			<div class="col-xs-12">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.value']}" />
						<p:outputLabel value=" *" style="color:red" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{balTypeBean.threshold.threshold.value}"
							styleClass="form-control" maxlength="9">
							<pe:keyFilter regEx="/[0-9]/i" />
						</p:inputText>
					</div>
				</div>
			</div>
		</div>


		<div class="col-xs-12 col-md-12">
			<div class="row">
				<p:dataTable var="item" id="triggerListTH"
					value="#{balTypeBean.threshold.triggerOcsofThresHold}"
					rowIndexVar="rowIndex" rowKey="#{item.triggerOcsId}"
					emptyMessage="#{msg['common.noData']}" paginator="true" rows="20"
					paginatorPosition="bottom"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,20,50,100">

					<p:column headerText="#{msg['common.ID']}">
						<h:outputText value="#{item.triggerOcsId}" />
					</p:column>
					<p:column headerText="#{msg['triggerMsg.msgName']}">
						<h:outputText value="#{item.triggerName}" />
					</p:column>
					<p:column headerText="#{msg['triggerType']}">
						<h:outputText
							value="#{balTypeBean.getTriggerTypeName(item.triggerType)}" />
					</p:column>
					<p:column headerText="#{msg['common.desc']}">
						<h:outputText value="#{item.description}" />
					</p:column>
					<p:column headerText="#{msg['common.action']}"
						styleClass="text-center">
						<p:commandLink disabled="#{balTypeBean.apply}"
							actionListener="#{balTypeBean.deleteTriggerOcs(item)}"
							update="triggerListTH"
							styleClass="btn btn-sm btn-action-del colorRed">
							<i class="fa fa-times icon-only mr-0"></i>
							<p:confirm header="#{msg['common.delete']}"
								message="#{msg['common.confirmDelete']}" icon="ui-icon-alert" />
						</p:commandLink>
						<f:facet name="header">
							<p:commandButton disabled="#{balTypeBean.apply}"
								value="#{msg['formula.addTrigger']}"
								actionListener="#{balTypeBean.showDialogTrigger()}"
								styleClass="btn btn-primary">
								<p:ajax event="dialogReturn"
									listener="#{balTypeBean.onDialogReturn}" update="triggerListTH" />
							</p:commandButton>
						</f:facet>
					</p:column>
				</p:dataTable>
			</div>
			<div class="col-xs-12 col-sm-12" align="right">
				<div class="row">
					<p:commandButton value="#{msg['common.apply']}"
						rendered="#{!balTypeBean.apply}" icon="fa fa-save"
						actionListener="#{balTypeBean.cmdApplyThreshold}"
						resetValues="true" styleClass="pull-right"
						update=" form-baltype-detail:DTThreshold  ">
						<p:confirm header="#{msg['common.apply']}"
							message="#{msg['common.confirm_apply']}" icon="ui-icon-alert" />
					</p:commandButton>
				</div>
			</div>
		</div>
	</h:form>


	<h:form id="form-baltype-by-cat" class="container-fluid"
		rendered="#{balTypeBean.formType eq 'list-baltype-by-category'}">
		<div class="row" style="padding-bottom: 10px;">
			<p:commandButton value="clear" update="@form"
				styleClass="balTypeClearFilter hidden"
				oncomplete="PF('tblbalTypeWidgetVar').clearFilters()" />
			<div class="col-xs-12 col-md-12">
				<p:dataTable var="item" value="#{balTypeBean.listBalTypeByCategory}"
					rowKey="#{item.balTypeId}" emptyMessage="#{msg['common.noData']}"
					paginator="true" rows="20" paginatorPosition="bottom"
					rowIndexVar="rowIndex" widgetVar="tblbalTypeWidgetVar"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,20,50,100"
					rowStyleClass="#{rowIndex % 2 == 1? 'rowColorBlue': null}">

					<p:ajax event="filter" ignoreAutoUpdate="true" />

					<f:facet name="header">
						<p:outputLabel value="#{msg['baltype.title']}"
							style="font-weight:bold" />
					</f:facet>

					<p:column headerText="#" style="width:10%">
						<h:outputText value="#{rowIndex+1}" />
					</p:column>

					<p:column headerText="#{msg['common.name']}"
						sortBy="#{item.balTypeName}" filterBy="#{item.balTypeName}"
						filterMatchMode="contains">
						<h:outputText value="#{item.balTypeName}"
							styleClass="preformatted" />
					</p:column>

					<p:column headerText="#{msg['common.desc']}"
						sortBy="#{item.description}" filterBy="#{item.description}"
						filterMatchMode="contains">
						<h:outputText value="#{item.description}"
							styleClass="preformatted" />
					</p:column>

					<p:column headerText="#{msg['common.action']}"
						style="text-align:center;">


						<p:commandLink
							update=":treeCommon categoryCommonTop contentPanel contentTitle"
							actionListener="#{balTypeBean.commandEditBalType(item)}"
							resetValues="true"
							styleClass="btn btn-sm btn-action-edit colorStrongGreen">
							<i class="fa fa-pencil icon-only mr-0"></i>
						</p:commandLink>
						<p:commandLink update="treeCommon categoryCommonTop contentPanel"
							actionListener="#{balTypeBean.commandCloneBT(item)}"
							styleClass="btn btn-sm btn-action-edit colorStrongGreen">
							<i class="fa fa-clone icon-only mr-0"></i>
							<p:confirm header="#{msg['common.clone']}"
								message="#{msg['common.confirmClone']}" icon="ui-icon-alert" />
						</p:commandLink>
						<p:commandLink update=":treeCommon categoryCommonTop contentPanel"
							actionListener="#{balTypeBean.commandDeleteBalType(item)}"
							styleClass="btn btn-sm btn-action-del colorRed">
							<i class="fa fa-times icon-only mr-0"></i>
							<p:confirm header="#{msg['common.delete']}"
								message="#{msg['common.confirmDelete']}" icon="ui-icon-alert" />
						</p:commandLink>
						<f:facet name="header">
							<p:commandButton value="#{msg['common.addNew']}"
								resetValues="true" icon="fa fa-plus"
								actionListener="#{balTypeBean.commandAddNewBalType()}"
								update="treeCommon categoryCommonTop contentPanel contentTitle"
								styleClass="btn btn-primary" />
						</f:facet>
					</p:column>
				</p:dataTable>
			</div>
		</div>
	</h:form>


	<h:form id="form-mapsharebal-by-cat" class="container-fluid"
		rendered="#{mapShareBalBean.formType eq 'list-mapsharebal-by-category'}">
		<div class="row" style="padding-bottom: 10px;">
			<p:commandButton value="clear" update="@form"
				styleClass="mapShareBalClearFilter hidden"
				oncomplete="PF('tblmapShareBalWidgetVar').clearFilters()" />

			<div class="col-xs-12 col-md-12">
				<p:dataTable var="item" value="#{mapShareBalBean.mapShareBals}"
					rowKey="#{item.mapSharebalBalId}"
					rowStyleClass="#{rowIndex % 2 == 1? 'rowColorBlue': null}"
					emptyMessage="#{msg['common.noData']}" paginator="true" rows="20"
					paginatorPosition="bottom" rowIndexVar="rowIndex"
					widgetVar="tblmapShareBalWidgetVar"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,20,50,100">

					<p:ajax event="filter" ignoreAutoUpdate="true" />

					<f:facet name="header">
						<p:outputLabel value="#{msg['mapsharebal.title']}"
							styleClass="line32" />
					</f:facet>

					<p:column headerText="#" style="width:10%">
						<h:outputText value="#{rowIndex+1}" />
					</p:column>

					<p:column headerText="#{msg['common.name']}" sortBy="#{item.name}"
						filterBy="#{item.name}" filterMatchMode="contains">
						<h:outputText value="#{item.name}" styleClass="preformatted" />
					</p:column>

					<p:column headerText="#{msg['common.desc']}"
						sortBy="#{item.remark}" filterBy="#{item.remark}"
						filterMatchMode="contains">
						<h:outputText value="#{item.remark}" styleClass="preformatted" />
					</p:column>

					<p:column headerText="#{msg['common.action']}"
						style="text-align:center;">


						<p:commandLink
							update=":treeCommon categoryCommonTop contentPanel contentTitle"
							resetValues="true"
							actionListener="#{mapShareBalBean.commandEditMapShareBal(item)}"
							styleClass="btn btn-sm btn-action-edit colorStrongGreen">
							<i class="fa fa-pencil icon-only mr-0"></i>
						</p:commandLink>
						<!-- 							<p:commandLink update="treeCommon categoryCommonTop contentPanel" -->
						<!-- 								actionListener="#{mapShareBalBean.commandCloneMapShareBal(item)}" -->
						<!-- 								styleClass="btn btn-sm btn-action-edit colorStrongGreen"> -->
						<!-- 								<i class="fa fa-clone icon-only mr-0"></i> -->
						<!-- 							</p:commandLink> -->
						<p:commandLink update=":treeCommon categoryCommonTop contentPanel"
							actionListener="#{mapShareBalBean.commandDeleteMapShareBal(item)}"
							styleClass="btn btn-sm btn-action-del colorRed">
							<i class="fa fa-times icon-only mr-0"></i>
							<p:confirm header="#{msg['common.delete']}"
								message="#{msg['common.confirmDelete']}" icon="ui-icon-alert" />
						</p:commandLink>
						<f:facet name="header">
							<p:commandButton value="#{msg['common.addNew']}"
								resetValues="true" icon="fa fa-plus"
								actionListener="#{mapShareBalBean.commandAddNewMapShareBal()}"
								update="treeCommon categoryCommonTop contentPanel contentTitle"
								styleClass="btn btn-primary" />
						</f:facet>
					</p:column>
				</p:dataTable>
			</div>
		</div>
	</h:form>

	<h:form id="form-mapsharebal_detail" class="container-fluid"
		rendered="#{mapShareBalBean.formType eq 'mapsharebal-detail'}">

		<div class="row formFieldMg">
			<div class="col-xs-12 col-sm-6">

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['mapsharebal.mapSharebalBalId']}" />
					</div>
					<div class="col-xs-12">
						<p:inputText
							value="#{mapShareBalBean.mapShareBal.mapSharebalBalId}"
							styleClass="form-control" readonly="true" />
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.name']}"
							for="txtMapShareBalName" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{mapShareBalBean.mapShareBal.name}"
							styleClass="form-control" maxlength="100" required="true"
							id="txtMapShareBalName" />
					</div>
				</div>


			</div>
			<div class="col-xs-12 col-sm-6">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.category']}"
							for="slCatMapShareBal" />

					</div>

					<div class="col-xs-12">
						<h:selectOneMenu styleClass="form-control col-xs-12"
							id="slCatMapShareBal" required="true"
							value="#{mapShareBalBean.mapShareBal.categoryId}">
							<f:selectItems var="category"
								itemLabel="#{category.categoryName}"
								itemValue="#{category.categoryId}"
								value="#{mapShareBalBean.categoriesOfMapShareBal}">
							</f:selectItems>
						</h:selectOneMenu>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['mapsharebal.shareTypeId']}" />

					</div>

					<div class="col-xs-12">
						<h:selectOneMenu styleClass="form-control col-xs-12"
							value="#{mapShareBalBean.mapShareBal.shareType}">
							<f:selectItems var="shareType"
								itemLabel="#{shareType.shareTypeName}"
								itemValue="#{shareType.shareTypeId}"
								value="#{mapShareBalBean.shareTypes}">
							</f:selectItems>
						</h:selectOneMenu>
					</div>
				</div>

			</div>


			<div class="col-xs-12 col-sm-12">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.desc']}" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{mapShareBalBean.mapShareBal.remark}"
							styleClass="form-control" maxlength="255"
							requiredMessage="#{msg['common.required']}" />
					</div>
				</div>

			</div>

		</div>



		<div class="col-xs-12 nopadding">
			<div class="box box-default box-solid box-panel-define">
				<div class="box-header with-border">
					<h3 class="box-title box-title-tree">From Balance</h3>
					<p:commandButton value=">>" styleClass="btn-bal-fromBalance"
						process="@this"
						actionListener="#{mapShareBalBean.showDialogBalType()}">
						<p:ajax event="dialogReturn"
							listener="#{mapShareBalBean.onDialogReturnFrom}"
							update="pnFromBalance" />
					</p:commandButton>
					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool btn-slideup-define">
							<i class="fa fa-angle-down"></i>
						</button>
					</div>
				</div>
				<p:panel id="pnFromBalance">
					<div class="box-body">
						<div class="row formFieldMg">
							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeFromView.balTypeId}"
											styleClass="form-control"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>


								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeName']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeFromView.balTypeName}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.externalId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeFromView.externalId}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.category']}" />

									</div>

									<div class="col-xs-12">
										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapShareBalBean.balTypeFromView.categoryId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapShareBalBean.categories}"
												var="item" itemLabel="#{item.categoryName}"
												itemValue="#{item.categoryId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.desc']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeFromView.description}"
											styleClass="form-control" maxlength="255"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

							</div>



							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.paymentType']}" />
									</div>
									<div class="col-xs-12">
										<h:selectOneMenu disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapShareBalBean.balTypeFromView.paymentType}">
											<f:selectItems
												value="#{mapShareBalBean.loadComboPaymentType()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">

									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.ballevel']}" />
									</div>

									<div class="col-xs-12">
										<h:selectOneMenu effect="fold" disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapShareBalBean.balTypeFromView.balLevel}">
											<f:selectItems value="#{mapShareBalBean.loadComboBalLevel()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:selectBooleanCheckbox disabled="true"
											itemLabel="#{msg['baltype.isAcm']}"
											value="#{mapShareBalBean.balTypeFromView.isAcm}">
										</p:selectBooleanCheckbox>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.unitType']}" />
									</div>
									<div class="col-xs-12">

										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapShareBalBean.balTypeFromView.unitTypeId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapShareBalBean.unitTypes}"
												var="item" itemLabel="#{item.name}"
												itemValue="#{item.unitTypeId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.prec']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeFromView.balTypepercision}"
											styleClass="form-control" maxlength="9"
											requiredMessage="#{msg['common.required']}">
											<pe:keyFilter regEx="/[0-9]/i" />
										</p:inputText>
									</div>
								</div>

							</div>
						</div>

					</div>
				</p:panel>
			</div>
		</div>


		<div class="col-xs-12 nopadding">
			<div class="box box-default box-solid box-panel-define">
				<div class="box-header with-border">
					<h3 class="box-title box-title-tree">To Balance</h3>
					<p:commandButton value=">>" styleClass="btn-bal-fromBalance"
						process="@this"
						actionListener="#{mapShareBalBean.showDialogBalType()}">
						<p:ajax event="dialogReturn"
							listener="#{mapShareBalBean.onDialogReturnTo}"
							update="pnToBalance" />
					</p:commandButton>
					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool btn-slideup-define">
							<i class="fa fa-angle-down"></i>
						</button>
					</div>
				</div>
				<p:panel id="pnToBalance">
					<div class="box-body">
						<div class="row formFieldMg">
							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeToView.balTypeId}"
											styleClass="form-control" maxlength="9"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>


								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeName']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeToView.balTypeName}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.externalId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeToView.externalId}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.category']}" />

									</div>

									<div class="col-xs-12">
										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapShareBalBean.balTypeToView.categoryId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapShareBalBean.categories}"
												var="item" itemLabel="#{item.categoryName}"
												itemValue="#{item.categoryId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.desc']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeToView.description}"
											styleClass="form-control" maxlength="255"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

							</div>



							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.paymentType']}" />
									</div>
									<div class="col-xs-12">
										<h:selectOneMenu disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapShareBalBean.balTypeToView.paymentType}">
											<f:selectItems
												value="#{mapShareBalBean.loadComboPaymentType()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">

									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.ballevel']}" />
									</div>

									<div class="col-xs-12">
										<h:selectOneMenu effect="fold" disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapShareBalBean.balTypeToView.balLevel}">
											<f:selectItems value="#{mapShareBalBean.loadComboBalLevel()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:selectBooleanCheckbox disabled="true"
											itemLabel="#{msg['baltype.isAcm']}"
											value="#{mapShareBalBean.balTypeToView.isAcm}">
										</p:selectBooleanCheckbox>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.unitType']}" />
									</div>
									<div class="col-xs-12">

										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapShareBalBean.balTypeToView.unitTypeId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapShareBalBean.unitTypes}"
												var="item" itemLabel="#{item.name}"
												itemValue="#{item.unitTypeId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.prec']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapShareBalBean.balTypeToView.balTypepercision}"
											styleClass="form-control" maxlength="9"
											requiredMessage="#{msg['common.required']}">
											<pe:keyFilter regEx="/[0-9-]/i" />
										</p:inputText>
									</div>
								</div>

							</div>
						</div>

					</div>
				</p:panel>
			</div>
		</div>
		<div class="col-xs-12">
			<div class="row">
				<div class="pull-right" style="padding-right: 12px">
					<p:commandButton value="#{msg['common.apply']}"
						disabled="#{mapShareBalBean.apply}" icon="fa fa-save"
						actionListener="#{mapShareBalBean.commandApplyMapShare()}"
						update="treeCommon categoryCommonTop contentPanel"
						styleClass="btn btn-default">
						<p:confirm header="#{msg['common.apply']}"
							message="#{msg['common.confirm_apply']}" icon="ui-icon-alert" />
					</p:commandButton>

				</div>
			</div>
		</div>
		<!-- 			<div class="col-xs-6"> -->
		<!-- 				<div class="row"> -->
		<!-- 					<div class="pull-left" style="padding-left: 7px"> -->

		<!-- 						<p:commandButton value="#{msg['common.cancel']}" -->
		<!-- 							action="#{mapShareBalBean.commanCancelMapShare()}" -->
		<!-- 							update="treeCommon categoryCommonTop contentPanel" -->
		<!-- 							styleClass="btn btn-default"> -->
		<!-- 						</p:commandButton> -->

		<!-- 					</div> -->
		<!-- 				</div> -->
		<!-- 			</div> -->

	</h:form>


	<h:form id="form-mapacmbal-by-cat" class="container-fluid"
		rendered="#{mapAcmBalBean.formType eq 'list-mapacmbal-by-category'}">
		<div class="row" style="padding-bottom: 10px;">
			<p:commandButton value="clear" update="@form"
				styleClass="mapAcmBalClearFilter hidden"
				oncomplete="PF('tblmapAcmBalWidgetVar').clearFilters()" />

			<div class="col-xs-12 col-md-12">
				<p:dataTable var="item" value="#{mapAcmBalBean.mapAcmBals}"
					rowKey="#{item.mapAcmBaltypeId}"
					rowStyleClass="#{rowIndex % 2 == 1? 'rowColorBlue': null}"
					emptyMessage="#{msg['common.noData']}" paginator="true" rows="20"
					paginatorPosition="bottom" rowIndexVar="rowIndex"
					widgetVar="tblmapAcmBalWidgetVar"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10,20,50,100">

					<p:ajax event="filter" ignoreAutoUpdate="true" />

					<f:facet name="header">
						<p:outputLabel value="#{msg['mapacmbal.title']}"
							styleClass="line32" />
					</f:facet>

					<p:column headerText="#" style="width:10%">
						<h:outputText value="#{rowIndex+1}" />
					</p:column>

					<p:column headerText="#{msg['common.name']}" sortBy="#{item.name}"
						filterBy="#{item.name}" filterMatchMode="contains">
						<h:outputText value="#{item.name}" styleClass="preformatted" />
					</p:column>

					<p:column headerText="#{msg['common.desc']}"
						sortBy="#{item.remark}" filterBy="#{item.remark}"
						filterMatchMode="contains">
						<h:outputText value="#{item.remark}" styleClass="preformatted" />
					</p:column>

					<p:column headerText="#{msg['common.action']}"
						style="text-align:center;">


						<p:commandLink
							update=":treeCommon categoryCommonTop contentPanel contentTitle"
							resetValues="true"
							actionListener="#{mapAcmBalBean.commandEditMapAcmBal(item)}"
							styleClass="btn btn-sm btn-action-edit colorStrongGreen">
							<i class="fa fa-pencil icon-only mr-0"></i>
						</p:commandLink>
						<!-- 							<p:commandLink update="treeCommon categoryCommonTop contentPanel" -->
						<!-- 								actionListener="#{mapAcmBalBean.commandCloneMapAcmBal(item)}" -->
						<!-- 								styleClass="btn btn-sm btn-action-edit colorStrongGreen"> -->
						<!-- 								<i class="fa fa-clone icon-only mr-0"></i> -->
						<!-- 							</p:commandLink> -->
						<p:commandLink update=":treeCommon categoryCommonTop contentPanel"
							actionListener="#{mapAcmBalBean.commandDeleteMapAcmBal(item)}"
							styleClass="btn btn-sm btn-action-del colorRed">
							<i class="fa fa-times icon-only mr-0"></i>
							<p:confirm header="#{msg['common.delete']}"
								message="#{msg['common.confirmDelete']}" icon="ui-icon-alert" />
						</p:commandLink>
						<f:facet name="header">
							<p:commandButton value="#{msg['common.addNew']}"
								resetValues="true" icon="fa fa-plus"
								actionListener="#{mapAcmBalBean.commandAddNewMapAcmBal()}"
								update="treeCommon categoryCommonTop contentPanel contentTitle"
								styleClass="btn btn-primary" />
						</f:facet>
					</p:column>
				</p:dataTable>
			</div>
		</div>
	</h:form>

	<h:form id="form-mapacm_detail" class="container-fluid"
		rendered="#{mapAcmBalBean.formType eq 'mapacmbal-detail'}">

		<div class="row formFieldMg">
			<div class="col-xs-12 col-sm-6">

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['mapacmbal.mapacmbalId']}" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{mapAcmBalBean.mapAcmBal.mapAcmBaltypeId}"
							styleClass="form-control" readonly="true" />
					</div>
				</div>

				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.name']}"
							for="txtMapAcmBalName" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{mapAcmBalBean.mapAcmBal.name}"
							styleClass="form-control" maxlength="100" required="true"
							id="txtMapAcmBalName" />
					</div>
				</div>


			</div>
			<div class="col-xs-12 col-sm-6">
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.category']}"
							for="slCatMapAcmBal" />

					</div>

					<div class="col-xs-12">
						<h:selectOneMenu styleClass="form-control col-xs-12"
							id="slCatMapAcmBal" required="true"
							value="#{mapAcmBalBean.mapAcmBal.categoryId}">
							<f:selectItems var="category"
								itemLabel="#{category.categoryName}"
								itemValue="#{category.categoryId}"
								value="#{mapAcmBalBean.categoriesOfMapAcmBal}">
							</f:selectItems>
						</h:selectOneMenu>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<p:outputLabel value="#{msg['common.desc']}" />
					</div>
					<div class="col-xs-12">
						<p:inputText value="#{mapAcmBalBean.mapAcmBal.remark}"
							styleClass="form-control" maxlength="255"
							requiredMessage="#{msg['common.required']}" />
					</div>
				</div>
			</div>


		</div>



		<div class="col-xs-12 nopadding">
			<div class="box box-default box-solid box-panel-define">
				<div class="box-header with-border">
					<h3 class="box-title box-title-tree">From Balance</h3>
					<p:commandButton value=">>" styleClass="btn-bal-fromBalance"
						process="@this"
						actionListener="#{mapAcmBalBean.showDialogBalTypeFrom()}">
						<p:ajax event="dialogReturn"
							listener="#{mapAcmBalBean.onDialogReturnFrom}"
							update="pnFromBalance" />
					</p:commandButton>
					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool btn-slideup-define">
							<i class="fa fa-angle-down"></i>
						</button>
					</div>
				</div>
				<p:panel id="pnFromBalance">
					<div class="box-body">
						<div class="row formFieldMg">
							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeFromView.balTypeId}"
											styleClass="form-control"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>


								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeName']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeFromView.balTypeName}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.externalId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeFromView.externalId}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.category']}" />

									</div>

									<div class="col-xs-12">
										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapAcmBalBean.balTypeFromView.categoryId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapAcmBalBean.categories}" var="item"
												itemLabel="#{item.categoryName}"
												itemValue="#{item.categoryId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.desc']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeFromView.description}"
											styleClass="form-control" maxlength="255"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

							</div>



							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.paymentType']}" />
									</div>
									<div class="col-xs-12">
										<h:selectOneMenu disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapAcmBalBean.balTypeFromView.paymentType}">
											<f:selectItems
												value="#{mapAcmBalBean.loadComboPaymentType()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">

									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.ballevel']}" />
									</div>

									<div class="col-xs-12">
										<h:selectOneMenu effect="fold" disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapAcmBalBean.balTypeFromView.balLevel}">
											<f:selectItems value="#{mapAcmBalBean.loadComboBalLevel()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:selectBooleanCheckbox disabled="true"
											itemLabel="#{msg['baltype.isAcm']}"
											value="#{mapAcmBalBean.balTypeFromView.isAcm}">
										</p:selectBooleanCheckbox>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.unitType']}" />
									</div>
									<div class="col-xs-12">

										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapAcmBalBean.balTypeFromView.unitTypeId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapAcmBalBean.unitTypes}" var="item"
												itemLabel="#{item.name}" itemValue="#{item.unitTypeId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.prec']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeFromView.balTypepercision}"
											styleClass="form-control" maxlength="9"
											requiredMessage="#{msg['common.required']}">
											<pe:keyFilter regEx="/[0-9-]/i" />
										</p:inputText>
									</div>
								</div>

							</div>
						</div>

					</div>
				</p:panel>

			</div>
		</div>


		<div class="col-xs-12 nopadding">
			<div class="box box-default box-solid box-panel-define">
				<div class="box-header with-border">
					<h3 class="box-title box-title-tree">To Balance</h3>
					<p:commandButton value=">>" styleClass="btn-bal-fromBalance"
						process="@this"
						actionListener="#{mapAcmBalBean.showDialogBalTypeTo()}">
						<p:ajax event="dialogReturn"
							listener="#{mapAcmBalBean.onDialogReturnTo}" update="pnToBalance" />
					</p:commandButton>
					<div class="box-tools pull-right">
						<button type="button" class="btn btn-box-tool btn-slideup-define">
							<i class="fa fa-angle-down"></i>
						</button>
					</div>
				</div>
				<p:panel id="pnToBalance">
					<div class="box-body">
						<div class="row formFieldMg">
							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeToView.balTypeId}"
											styleClass="form-control"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>


								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.balTypeName']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeToView.balTypeName}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.externalId']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeToView.externalId}"
											styleClass="form-control" maxlength="100"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.category']}" />

									</div>

									<div class="col-xs-12">
										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapAcmBalBean.balTypeToView.categoryId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapAcmBalBean.categories}" var="item"
												itemLabel="#{item.categoryName}"
												itemValue="#{item.categoryId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['common.desc']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeToView.description}"
											styleClass="form-control" maxlength="255"
											requiredMessage="#{msg['common.required']}" />
									</div>
								</div>

							</div>



							<div class="col-xs-12 col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.paymentType']}" />
									</div>
									<div class="col-xs-12">
										<h:selectOneMenu disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapAcmBalBean.balTypeToView.paymentType}">
											<f:selectItems
												value="#{mapAcmBalBean.loadComboPaymentType()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">

									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.ballevel']}" />
									</div>

									<div class="col-xs-12">
										<h:selectOneMenu effect="fold" disabled="true"
											style="-webkit-appearance: none;"
											styleClass="form-control col-xs-12"
											value="#{mapAcmBalBean.balTypeToView.balLevel}">
											<f:selectItems value="#{mapAcmBalBean.loadComboBalLevel()}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:selectBooleanCheckbox disabled="true"
											itemLabel="#{msg['baltype.isAcm']}"
											value="#{mapAcmBalBean.balTypeToView.isAcm}">
										</p:selectBooleanCheckbox>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.unitType']}" />
									</div>
									<div class="col-xs-12">

										<h:selectOneMenu styleClass="form-control" disabled="true"
											style="-webkit-appearance: none;"
											value="#{mapAcmBalBean.balTypeToView.unitTypeId}">
											<f:selectItem itemLabel="(#{msg['common.none']})" />
											<f:selectItems value="#{mapAcmBalBean.unitTypes}" var="item"
												itemLabel="#{item.name}" itemValue="#{item.unitTypeId}" />
										</h:selectOneMenu>
									</div>
								</div>

								<div class="row">
									<div class="col-xs-12">
										<p:outputLabel value="#{msg['baltype.prec']}" />
									</div>
									<div class="col-xs-12">
										<p:inputText disabled="true"
											value="#{mapAcmBalBean.balTypeToView.balTypepercision}"
											styleClass="form-control" maxlength="9"
											requiredMessage="#{msg['common.required']}">
											<pe:keyFilter regEx="/[0-9-]/i" />
										</p:inputText>
									</div>
								</div>

							</div>
						</div>

					</div>
				</p:panel>
			</div>
		</div>
		<div class="col-xs-12">
			<div class="row">
				<div class="pull-right" style="padding-right: 12px">
					<p:commandButton value="#{msg['common.apply']}"
						disabled="#{mapAcmBalBean.apply}" icon="fa fa-save"
						actionListener="#{mapAcmBalBean.commandApplyMapAcm()}"
						update="treeCommon categoryCommonTop contentPanel"
						styleClass="btn btn-default">
						<p:confirm header="#{msg['common.apply']}"
							message="#{msg['common.confirm_apply']}" icon="ui-icon-alert" />
					</p:commandButton>

				</div>
			</div>
		</div>
		<!-- 			<div class="col-xs-6"> -->
		<!-- 				<div class="row"> -->
		<!-- 					<div class="pull-left" style="padding-left: 7px"> -->
		<!-- 						<p:commandButton value="#{msg['common.cancel']}" -->
		<!-- 							action="#{mapAcmBalBean.commanCancelMapAcm()}" -->
		<!-- 							update="treeCommon categoryCommonTop contentPanel" -->
		<!-- 							styleClass="btn btn-default"> -->
		<!-- 						</p:commandButton> -->
		<!-- 					</div> -->
		<!-- 				</div> -->
		<!-- 			</div> -->


	</h:form>
</ui:composition>
</html>